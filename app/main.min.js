!function(){APP={},APP.ArtPiece=Backbone.Model.extend({defaults:{first_name:null,title:null,location:null,description:null,last_name:null,longitude:null,latitude:null,type:null,medium:null}}),APP.ArtPieces=Backbone.Collection.extend({model:APP.ArtPiece,url:"https://data.nashville.gov/resource/dqkw-tj5j.json"}),APP.artPieces=new APP.ArtPieces,APP.Map=Backbone.Model.extend({defaults:{center:new google.maps.LatLng(36.15948,-86.792112),zoom:12,mapTypeId:google.maps.MapTypeId.ROADMAP}}),APP.map=new APP.Map,APP.MapView=Backbone.View.extend({el:"#map",initialize:function(){this.collection.fetch({reset:!0}),this.listenTo(this.collection,"reset",this.render),this.map=new google.maps.Map(this.el,this.model.toJSON())},render:function(){this.collection.each(function(a){console.log(a.get("title"));new google.maps.Marker({map:this.map,position:new google.maps.LatLng(a.get("latitude"),a.get("longitude")),title:a.get("title")})},this),$("#map").replaceWith(this.el)}}),APP.mapView=new APP.MapView({model:APP.map,collection:APP.artPieces})}();